{"ast":null,"code":"import _classCallCheck from \"/home/owais/.visualytics/face-app/mobile-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/owais/.visualytics/face-app/mobile-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/owais/.visualytics/face-app/mobile-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/owais/.visualytics/face-app/mobile-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/owais/.visualytics/face-app/mobile-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/owais/.visualytics/face-app/mobile-app/src/views/Errors.js\";\nimport React from \"react\";\nimport { Container, Row, Col, FormSelect, Card, Button, CardHeader, CardBody, CardFooter } from \"shards-react\";\nimport Image from 'react-bootstrap/Image';\nimport PageTitle from \"./../components/common/PageTitle\";\nimport Webcam from \"react-webcam\";\nimport axios from 'axios';\nvar videoConstraints = {\n  width: 1280,\n  height: 720,\n  facingMode: \"user\"\n}; // const webcamRef = React.useRef(null);\n\nvar FaceAuth = /*#__PURE__*/function (_React$Component) {\n  _inherits(FaceAuth, _React$Component);\n\n  function FaceAuth(props) {\n    var _this;\n\n    _classCallCheck(this, FaceAuth);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FaceAuth).call(this, props));\n\n    _this.setRef = function (webcam) {\n      _this.webcam = webcam;\n    };\n\n    _this.capture = function () {\n      var imageSrc = _this.webcam.getScreenshot();\n\n      console.log(imageSrc);\n\n      var querystring = require(\"querystring\"); // let post_data = {\"img\" : imageSrc}\n\n\n      axios.post('http://192.168.0.101:5000/getScreenShot', querystring.stringify({\n        img: imageSrc\n      })).then(function (response) {\n        if (response.status === 200 && response != null) {\n          var face_inner = \"data:image/jpeg;base64,\" + response.data.STATUS;\n\n          _this.setState({\n            face: face_inner,\n            submit_btn_bool: true\n          });\n\n          console.log(\"FACE\"); // console.log(this.state.face);\n        } else {\n          alert(\"Face Cannot be Detected !!\");\n        }\n      }).catch(function (error) {\n        alert(\"Face Cannot be Detected !!\");\n      });\n    };\n\n    _this.myChangeHandler = function (event) {\n      _this.setState({\n        name_placeholder: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      var querystring = require(\"querystring\");\n\n      axios.post('http://192.168.0.101:5000/saveuser', querystring.stringify({\n        usr: _this.state.face,\n        name: _this.state.name_placeholder\n      })).then(function (response) {\n        if (response.status === 200 && response != null) {\n          var status = response.data.STATUS;\n\n          if (status == \"200\") {\n            alert(\"User Saved as: \" + _this.state.name_placeholder);\n          } else {\n            alert(\"User Not Saved due to some issue. Try Again Later...\");\n          }\n        }\n      });\n      console.log(_this.state.name_placeholder);\n      event.preventDefault();\n\n      _this.setState({\n        name_placeholder: \"\",\n        submit_btn_bool: false\n      });\n    };\n\n    _this.searchUser = function () {\n      var querystring = require(\"querystring\");\n\n      axios.post('http://192.168.0.101:5000/checkuser', querystring.stringify({\n        usr: _this.state.face\n      })).then(function (response) {\n        if (response.status === 200 && response != null) {\n          var matched_user = response.data.STATUS;\n\n          if (matched_user == \"\") {\n            _this.setState({\n              user: \"No User Found\"\n            });\n          } else {\n            _this.setState({\n              user: matched_user\n            });\n          }\n        }\n      });\n    };\n\n    _this.state = {\n      face: \"\",\n      name_placeholder: \"\",\n      submit_btn_bool: false,\n      user: \"\"\n    }; // this.handleSubmit = this.handleSubmit.bind(this);\n\n    return _this;\n  }\n\n  _createClass(FaceAuth, [{\n    key: \"render\",\n    value: function render() {\n      var videoConstraints = {\n        width: 1280,\n        height: 720,\n        facingMode: \"user\"\n      };\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(PageTitle, {\n        title: \"Understand Customers Better\",\n        subtitle: \"Users Profile\",\n        className: \"text-sm-left mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }, \"Live Camera Feed\")), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"6\",\n        md: \"6\",\n        sm: \"6\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        lg: \"2\",\n        className: \"d-flex py-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Webcam, {\n        audio: false,\n        height: 450,\n        ref: this.setRef,\n        screenshotFormat: \"image/jpeg\",\n        width: 450,\n        mirrored: true,\n        videoConstraints: videoConstraints,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        lg: \"4\",\n        md: \"6\",\n        sm: \"6\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      }, \"Extracted Face\"), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.face,\n        width: \"100\",\n        alt: \"No Face Extracted.\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"4\",\n        md: \"4\",\n        sm: \"4\",\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.capture,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }, \"Capture photo\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }\n      }, \"Name:\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.name_placeholder,\n        onChange: this.myChangeHandler,\n        required: true,\n        disabled: !this.state.submit_btn_bool,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        disabled: !this.state.submit_btn_bool,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }\n      }, \"Save User\")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        disabled: !this.state.submit_btn_bool,\n        onClick: this.searchUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }\n      }, \"Check User\"))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        value: this.state.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      })))));\n    }\n  }]);\n\n  return FaceAuth;\n}(React.Component);\n\nexport default FaceAuth;","map":{"version":3,"sources":["/home/owais/.visualytics/face-app/mobile-app/src/views/Errors.js"],"names":["React","Container","Row","Col","FormSelect","Card","Button","CardHeader","CardBody","CardFooter","Image","PageTitle","Webcam","axios","videoConstraints","width","height","facingMode","FaceAuth","props","setRef","webcam","capture","imageSrc","getScreenshot","console","log","querystring","require","post","stringify","img","then","response","status","face_inner","data","STATUS","setState","face","submit_btn_bool","alert","catch","error","myChangeHandler","event","name_placeholder","target","value","handleSubmit","usr","state","name","preventDefault","searchUser","matched_user","user","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Container,\n  Row,\n  Col,\n  FormSelect,\n  Card,\n  Button,\n  CardHeader,\n  CardBody,\n  CardFooter  } from \"shards-react\";\nimport Image from 'react-bootstrap/Image'\nimport PageTitle from \"./../components/common/PageTitle\";\nimport Webcam from \"react-webcam\";\nimport axios from 'axios';\n\n\nconst videoConstraints = {\n  width: 1280,\n  height: 720,\n  facingMode: \"user\"\n};\n \n// const webcamRef = React.useRef(null);\n\nclass FaceAuth extends React.Component {\n  setRef = webcam => {\n    this.webcam = webcam;\n  };\n\n  constructor(props){\n    super(props);\n    this.state={\n      face:\"\",\n      name_placeholder: \"\", \n      submit_btn_bool: false,\n      user: \"\"\n    }\n    // this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  capture = () => {\n    const imageSrc = this.webcam.getScreenshot();\n    console.log(imageSrc);\n    var querystring = require(\"querystring\");\n    // let post_data = {\"img\" : imageSrc}\n    axios.post('http://192.168.0.101:5000/getScreenShot', querystring.stringify({ img: imageSrc }))\n          .then(response => {\n              if (response.status === 200 && response != null) {\n                let face_inner =  \"data:image/jpeg;base64,\" + response.data.STATUS;\n                this.setState({\n                  face: face_inner,\n                  submit_btn_bool: true\n                });\n                console.log(\"FACE\")\n                // console.log(this.state.face);\n                \n              }\n              else{\n                alert(\"Face Cannot be Detected !!\")\n              }\n            }\n          )\n          .catch(error => {\n            alert(\"Face Cannot be Detected !!\")})\n  };\n\n  myChangeHandler = (event) => {\n    this.setState({name_placeholder: event.target.value});\n    \n  }\n  handleSubmit = (event) => {\n    var querystring = require(\"querystring\");\n    axios.post('http://192.168.0.101:5000/saveuser', querystring.stringify({ usr: this.state.face , name : this.state.name_placeholder }))\n          .then(response => {\n              if (response.status === 200 && response != null) {\n                let status = response.data.STATUS;\n                if(status == \"200\"){\n                  alert(\"User Saved as: \" + this.state.name_placeholder)\n                }\n                else{\n                  alert(\"User Not Saved due to some issue. Try Again Later...\")\n                }\n              }\n            }\n          )\n    console.log(this.state.name_placeholder);\n    event.preventDefault();\n    this.setState({name_placeholder:\"\", submit_btn_bool:false})\n    \n  }\n\n\n  searchUser = () => {\n    var querystring = require(\"querystring\");\n    axios.post('http://192.168.0.101:5000/checkuser', querystring.stringify({ usr: this.state.face}))\n          .then(response => {\n              if (response.status === 200 && response != null) {\n                let matched_user = response.data.STATUS;\n                if(matched_user == \"\"){\n                  this.setState({user:\"No User Found\"})\n                }\n                else{\n                  this.setState({user:matched_user})\n                }\n              }\n            }\n          )\n  }\n\n  render() {\n    const videoConstraints = {\n      width: 1280,\n      height: 720,\n      facingMode: \"user\"\n    };\n\n    return (\n      <Container fluid className=\"main-content-container px-4\">\n      <Row noGutters className=\"page-header py-4\">\n      <PageTitle title=\"Understand Customers Better\" subtitle=\"Users Profile\" className=\"text-sm-left mb-3\" />\n      </Row>\n      <Card small className=\"h-100\">\n        <CardHeader className=\"border-bottom\">\n          <h6 className=\"m-0\">Live Camera Feed</h6>\n        </CardHeader>\n        <Row>\n        <Col lg=\"6\" md=\"6\" sm=\"6\" className=\"mb-4\">\n        <CardBody lg=\"2\" className=\"d-flex py-0\">\n        <Webcam\n          audio={false}\n          height={450}\n          ref={this.setRef}\n          screenshotFormat=\"image/jpeg\"\n          width={450}\n          mirrored={true}\n          videoConstraints={videoConstraints}\n        />\n        \n        </CardBody>\n        </Col>\n        <Col lg=\"4\" md=\"6\" sm=\"6\" className=\"mb-4\">\n        {/* <CardBody className=\"d-flex py-0\"> */}\n        <h6>Extracted Face</h6>\n        <img src={this.state.face} width=\"100\" alt=\"No Face Extracted.\" />\n        {/* </CardBody> */}\n        </Col>\n        </Row>\n        <Row>\n        <Col lg=\"4\" md=\"4\" sm=\"4\" className=\"mb-4\">\n        <Button onClick={this.capture}>Capture photo</Button>\n        \n        <form onSubmit={this.handleSubmit}>\n        <br></br>\n        <label>\n          Name:\n          <input type=\"text\" value={this.state.name_placeholder} onChange={this.myChangeHandler} required disabled={!this.state.submit_btn_bool}/>\n        </label>\n        \n        <Button disabled={!this.state.submit_btn_bool}>Save User</Button>\n        </form>\n        \n        <br></br>\n        <Button disabled={!this.state.submit_btn_bool} onClick={this.searchUser}>Check User</Button>\n        </Col>\n        </Row>\n        <Row>\n          <Col>\n        <textarea value={this.state.user} />\n        </Col>\n        </Row>\n        </Card>\n      </Container>\n    );\n  }\n}\n\nexport default FaceAuth;\n"]},"metadata":{},"sourceType":"module"}